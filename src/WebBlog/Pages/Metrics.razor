@page "/metrics"
@inject MetricService MetricService

<h2>Metrics</h2>

<p>A page of metrics about me from various services.</p>

<div class="post-content">
    <table width="100%">
        <tr>
            <td>
                <span class="fab fa-dev" aria-hidden="true"></span> Total post views
            </td>
            <td>
                <a href="/metrics/chart/11"> @views.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-dev" aria-hidden="true"></span> Total post reactions
            </td>
            <td>
                <a href="/metrics/chart/12"> @reactions.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-dev" aria-hidden="true"></span> Total post comments
            </td>
            <td>
                <a href="/metrics/chart/13"> @comments.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-dev" aria-hidden="true"></span> Published Posts / Total Posts
            </td>
            <td>
                <a href="/metrics/chart/10">@pubposts.Value</a> / <a href="/metrics/chart/9">@posts.Value</a>
            </td>
        </tr>
        <tr>
            <td colspan="2"></td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-twitter" aria-hidden="true"></span> Number of Followers
            </td>
            <td>
                <a href="/metrics/chart/0"> @followers.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-twitter" aria-hidden="true"></span> Number Following
            </td>
            <td>
                <a href="/metrics/chart/1"> @following.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-twitter" aria-hidden="true"></span> Number of Favourites
            </td>
            <td>
                <a href="/metrics/chart/3"> @fav.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-twitter" aria-hidden="true"></span> Number of Tweets
            </td>
            <td>
                <a href="/metrics/chart/2"> @numtweets.Value</a>
            </td>
        </tr>
        <tr>
            <td colspan="2"></td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-github" aria-hidden="true"></span> Number Following
            </td>
            <td>
                <a href="/metrics/chart/5"> @ghfollowing.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-github" aria-hidden="true"></span> Number of Followers
            </td>
            <td>
                <a href="/metrics/chart/4">@ghfollowers.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-github" aria-hidden="true"></span> Number of Repos
            </td>
            <td>
                <a href="/metrics/chart/6">@ghrepo.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-github" aria-hidden="true"></span> Number of Stars
            </td>
            <td>
                <a href="/metrics/chart/7">@ghstars.Value</a>
            </td>
        </tr>
        <tr>
            <td>
                <span class="fab fa-github" aria-hidden="true"></span> Number of Commits
            </td>
            <td>
                <a href="/metrics/chart/8">@commits.Value</a>
            </td>
        </tr>
    </table>
</div>

@code {
    private Metric followers = new Metric();
    private Metric following = new Metric();
    private Metric numtweets = new Metric();
    private Metric ghfollowers = new Metric();
    private Metric ghfollowing = new Metric();
    private Metric ghrepo = new Metric();
    private Metric ghstars = new Metric();
    private Metric commits = new Metric();
    private Metric fav = new Metric();
    private Metric views = new Metric();
    private Metric reactions = new Metric();
    private Metric comments = new Metric();
    private Metric pubposts = new Metric();
    private Metric posts = new Metric();

    protected override void OnInitialized()
    {
        Load();
    }

    private void Load()
    {
        followers = MetricService.LoadData(0, 1);
        following = MetricService.LoadData(1, 1);
        numtweets = MetricService.LoadData(2, 1);
        fav = MetricService.LoadData(3, 1);
        ghfollowers = MetricService.LoadData(4, 1);
        ghfollowing = MetricService.LoadData(5, 1);
        ghrepo = MetricService.LoadData(6, 1);
        ghstars = MetricService.LoadData(7, 1);
        commits = MetricService.LoadData(8, 1);
        posts = MetricService.LoadData(9, 1);
        pubposts = MetricService.LoadData(10, 1);
        views = MetricService.LoadData(11, 1);
        reactions = MetricService.LoadData(12, 1);
        comments = MetricService.LoadData(13, 1);
    }
}